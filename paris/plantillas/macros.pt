<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal">
<head>
    <title>Macros</title>
</head>
<body>
	
	<!-- Inventario
	================================================== -->	
	<metal:inventario define-macro="inventario">
	    <table class="table">
			<thead>
				<tr>
					<th tal:repeat="columna view.columnas_inventario">
						<span tal:condition="python:columna != tipo">${columna}</span>
					</th>
				</tr>
			</thead>
			<tbody>
				<tr tal:repeat="item view.inventario_reciente">
		        	<td>
			        	<p tal:condition="python:'tienda_id' != tipo">
			                <a tal:attributes="href python:view.peticion.route_url('tienda', tienda_id=item.tienda_id)">${item.tienda_id}</a>
			            </p>
		            </td>
		            <td>
			        	<p tal:condition="python:'producto_id' != tipo">
			                <a tal:attributes="href python:view.peticion.route_url('producto', producto_id=item.producto_id)">${item.producto_id}</a>
			            </p>
		            </td>
		            <td><p>${item.codigo}</p></td>
		            <td><p>${item.descripcion}</p></td>
		            <td><p>${item.precio}</p></td>
		            <td><p>${item.cantidad}</p></td>
		        </tr>
			</tbody>
		</table>
	</metal:inventario>
	
	<!-- Comentarios (calificaciones y reseÃ±as)
	================================================== -->	
	<metal:comentarios define-macro="comentarios">
		<blockquote tal:repeat="comentario view.calificaciones_resenas">
			<p>${comentario.resena}</p>
			<small>
				${comentario.consumidor.nombre} ${comentario.consumidor.apellido} el ${comentario.fecha}
				<tal:block tal:switch="comentario.calificacion">
					<span tal:case="'Bien'"><i class="icon-thumbs-up"></i></span>
					<span tal:case="'Mal'"><i class="icon-thumbs-down"></i></span>									
    			</tal:block>
			</small>
		</blockquote>
	</metal:comentarios>
	
	<!-- Fotos
	================================================== -->	
	<metal:fotos define-macro="fotos">
		<div id="carrusel" class="carousel slide">
            <div class="carousel-inner">
            	<tal:block tal:repeat="foto view.fotos" tal:switch="repeat.foto.index == 0">
           			<div tal:case="True" class="item active">
        				<div class="thumbnail">
        					<img src="/estatico/${foto.ruta_de_foto}" alt="" />
        				</div>
        			</div>
        			<div tal:case="False" class="item">
        				<div class="thumbnail">
        					<img src="/estatico/${foto.ruta_de_foto}" alt="" />
        				</div>
        			</div>
            	</tal:block>
			</div>
			<tal:block tal:switch="python:len(view.fotos) > 1">
				<tal:block tal:case="True">
		        	<a class="left carousel-control" href="#carrusel" data-slide="prev">&lsaquo;</a>
		        	<a class="right carousel-control" href="#carrusel" data-slide="next">&rsaquo;</a>
	        	</tal:block>
        	</tal:block>
        </div>
	</metal:fotos>
</body>
</html>